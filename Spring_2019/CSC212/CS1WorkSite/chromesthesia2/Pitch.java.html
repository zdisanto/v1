<html>
<head>
<title>Pitch.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #000080; font-weight: bold;}
.s1 { color: #000000;}
.s2 { color: #808080; font-style: italic;}
.s3 { color: #0000ff;}
.s4 { color: #008000; font-weight: bold;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Pitch.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span>chromesthesia2;

<span class="s0">import </span>java.awt.Color;
<span class="s0">import </span>note.SNote;
<span class="s0">import </span>painter.SPainter;
<span class="s0">import </span>shapes.SRectangle;

<span class="s0">public class </span>Pitch {

    <span class="s2">// INSTANCE VARIABLES</span>
    <span class="s0">private </span>String abcName;
    <span class="s0">private </span>SPainter painter;
    <span class="s0">private </span>SRectangle box;
    <span class="s0">private </span>SNote note;
    <span class="s0">private </span>Color color;

    <span class="s0">public </span>Pitch(String abcName, SPainter painter) {
        <span class="s0">this</span>.abcName = abcName;
        <span class="s0">this</span>.painter = painter;
        <span class="s0">this</span>.box = <span class="s0">new </span>SRectangle(painter.painterHeight-<span class="s3">50</span>,painter.painterWidth-<span class="s3">50</span>);
        <span class="s0">this</span>.note = createNoteForThisPitch(abcName);

        <span class="s0">this</span>.color = getPitchClassColor(abcName.substring(<span class="s3">0</span>,<span class="s3">1</span>).toUpperCase());
    }

    <span class="s0">public </span>String toString() {
        <span class="s0">return </span><span class="s4">&quot;[ &quot; </span>+ abcName + <span class="s4">&quot; | &quot; </span>+ note.degree() + <span class="s4">&quot; | &quot; </span>+ color + <span class="s4">&quot; ]&quot;</span>;

    }

    <span class="s0">public </span>String abcName() {
        <span class="s0">return </span>abcName;

    }

    <span class="s0">private </span>SNote createNoteForThisPitch(String abcPitchClassName) {
        SNote note = <span class="s0">new </span>SNote();
        <span class="s0">if </span>( abcPitchClassName.equals(<span class="s4">&quot;C&quot;</span>) ) {
            <span class="s2">// nothing to do</span>
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;C,&quot;</span>) ) {
            note.lp(<span class="s3">7</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;c&quot;</span>) ) {
            note.rp(<span class="s3">7</span>);

        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;D&quot;</span>) ) {
            note.rp(<span class="s3">1</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;D,&quot;</span>) ) {
            note.lp(<span class="s3">6</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;d&quot;</span>) ) {
            note.rp(<span class="s3">8</span>);

        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;E&quot;</span>) ) {
            note.rp(<span class="s3">2</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;E,&quot;</span>) ) {
            note.lp(<span class="s3">5</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;e&quot;</span>) ) {
            note.rp(<span class="s3">9</span>);

        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;F&quot;</span>) ) {
            note.rp(<span class="s3">3</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;F,&quot;</span>) ) {
            note.lp(<span class="s3">4</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;f&quot;</span>) ) {
            note.rp(<span class="s3">10</span>);

        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;A&quot;</span>) ) {
            note.rp(<span class="s3">4</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;A,&quot;</span>) ) {
            note.lp(<span class="s3">3</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;a&quot;</span>) ) {
            note.rp(<span class="s3">11</span>);

        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;B&quot;</span>) ) {
            note.rp(<span class="s3">5</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;B,&quot;</span>) ) {
            note.lp(<span class="s3">2</span>);
        } <span class="s0">else if </span>( abcPitchClassName.equals(<span class="s4">&quot;b&quot;</span>) ) {
            note.rp(<span class="s3">12</span>);
        }

        <span class="s0">return </span>note;
    }

    <span class="s0">private </span>Color getPitchClassColor(String letter) {
        <span class="s0">if </span>(letter.equals( <span class="s4">&quot;A&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">0</span>, <span class="s3">0</span>, <span class="s3">255 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;B&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">0</span>, <span class="s3">255</span>, <span class="s3">0 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;C&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">127</span>, <span class="s3">0</span>, <span class="s3">127 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;D&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">255</span>, <span class="s3">255</span>, <span class="s3">0 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;E&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">255</span>, <span class="s3">0</span>, <span class="s3">0 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;F&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">255</span>, <span class="s3">127</span>, <span class="s3">0 </span>);
        } <span class="s0">else if </span>(letter.equals( <span class="s4">&quot;G&quot; </span>)) {
            <span class="s0">return new </span>Color( <span class="s3">0</span>, <span class="s3">255</span>, <span class="s3">255 </span>);
        }
        <span class="s0">else </span>{
            <span class="s0">return </span>Color.BLACK;
        }
    }

    <span class="s0">public void </span>play(String d) {
        painter.setColor(color);
        painter.paint(box);
        painter.setColor(randomColor());
        painter.draw(box);

        <span class="s0">if </span>( d.equals(<span class="s4">&quot;1&quot;</span>) ) {
            note.play();
        }
        <span class="s0">if </span>( d.equals(<span class="s4">&quot;2&quot;</span>) ) {
            note.x2();
            note.play();
            note.s2();
        }
        <span class="s0">if </span>( d.equals(<span class="s4">&quot;1/2&quot;</span>) ) {
            note.s2();
            note.play();
            note.x2();
        }
        <span class="s0">if </span>( d.equals(<span class="s4">&quot;1/3&quot;</span>) ) {
            note.s3();
            note.play();
            note.x3();
        }
        <span class="s0">if </span>( d.equals(<span class="s4">&quot;2/3&quot;</span>) ) {
            note.s3();
            note.x2();
            note.play();
            note.s2();
            note.x3();
        }
    }

    <span class="s0">private static </span>Color randomColor() {
        <span class="s0">int </span>rv = (<span class="s0">int</span>)(Math.random()*<span class="s3">256</span>);
        <span class="s0">int </span>gv = (<span class="s0">int</span>)(Math.random()*<span class="s3">256</span>);
        <span class="s0">int </span>bv = (<span class="s0">int</span>)(Math.random()*<span class="s3">256</span>);
        <span class="s0">return new </span>Color(rv,gv,bv);

    }


}
</pre>
</body>
</html>